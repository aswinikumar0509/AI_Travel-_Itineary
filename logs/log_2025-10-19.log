2025-10-19 01:34:52,031 - INFO - Intilaized TravelPlanner instance
2025-10-19 01:34:52,033 - INFO - City set sucesfully
2025-10-19 01:34:52,033 - INFO - Interest also set sucesfully..
2025-10-19 01:34:52,033 - INFO - Gnerating itineary for Delhi and for interests : ['food']
2025-10-19 01:34:53,001 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:34:53,051 - INFO - Itineary generated sucesffully..
2025-10-19 01:36:11,282 - INFO - Intilaized TravelPlanner instance
2025-10-19 01:36:11,283 - INFO - City set sucesfully
2025-10-19 01:36:11,283 - INFO - Interest also set sucesfully..
2025-10-19 01:36:11,284 - INFO - Gnerating itineary for Delhi and for interests : ['food']
2025-10-19 01:36:12,363 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:36:12,366 - INFO - Itineary generated sucesffully..
2025-10-19 01:37:20,307 - INFO - Intilaized TravelPlanner instance
2025-10-19 01:37:20,308 - INFO - City set sucesfully
2025-10-19 01:37:20,308 - INFO - Interest also set sucesfully..
2025-10-19 01:37:20,308 - INFO - Gnerating itineary for Delhi and for interests : ['Food']
2025-10-19 01:37:22,256 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:37:22,258 - INFO - Itineary generated sucesffully..
2025-10-19 01:42:32,807 - INFO - Intilaized TravelPlanner instance
2025-10-19 01:42:32,807 - INFO - City set sucesfully
2025-10-19 01:42:32,807 - INFO - Interest also set sucesfully..
2025-10-19 01:42:32,807 - INFO - Gnerating itineary for Delhi and for interests : ['Food']
2025-10-19 01:42:34,832 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:42:34,834 - INFO - Itineary generated sucesffully..
2025-10-19 01:58:52,026 - INFO - Initialized TravelPlanner instance
2025-10-19 01:58:52,026 - INFO - City set successfully
2025-10-19 01:58:52,026 - INFO - Interests set successfully
2025-10-19 01:58:52,027 - INFO - Days set successfully
2025-10-19 01:58:52,027 - INFO - Generating itinerary | city=Delhi | interests=['history', 'shopping', 'nature', 'photography', 'Food'] | days=5
2025-10-19 01:58:54,104 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:58:55,929 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:58:57,789 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:58:59,735 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:59:01,894 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 01:59:01,896 - INFO - Itinerary generated successfully
2025-10-19 02:12:03,777 - INFO - Initialized TravelPlanner instance
2025-10-19 02:12:03,779 - INFO - City set successfully
2025-10-19 02:12:03,788 - INFO - Interests set successfully
2025-10-19 02:12:03,788 - INFO - Days set successfully
2025-10-19 02:12:03,788 - INFO - Generating itinerary | city=Bengaluru | interests=['history', 'shopping', 'nature', 'photography', 'Food'] | days=5
2025-10-19 02:12:05,902 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 02:12:07,747 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 02:12:09,564 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 02:12:11,200 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 02:12:13,146 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 02:12:13,148 - INFO - Itinerary generated successfully
2025-10-19 13:54:59,891 - INFO - Initialized TravelPlanner instance
2025-10-19 13:54:59,907 - INFO - City set successfully
2025-10-19 13:54:59,908 - INFO - Interests set successfully
2025-10-19 13:54:59,910 - INFO - Days set successfully
2025-10-19 13:54:59,910 - INFO - Generating itinerary | city=Bengaluru | interests=['history', 'shopping', 'nature', 'photography', 'Food'] | days=5
2025-10-19 13:55:01,686 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:03,424 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:05,244 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:06,812 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:08,560 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:08,563 - INFO - Itinerary generated successfully
2025-10-19 13:55:34,268 - INFO - Initialized TravelPlanner instance
2025-10-19 13:55:34,268 - INFO - City set successfully
2025-10-19 13:55:34,269 - INFO - Interests set successfully
2025-10-19 13:55:34,269 - INFO - Days set successfully
2025-10-19 13:55:34,269 - INFO - Generating itinerary | city=Thailand | interests=['shopping', 'photography', 'nightlife', 'Food'] | days=5
2025-10-19 13:55:36,135 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:38,149 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:39,878 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:42,211 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:43,465 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 13:55:43,467 - INFO - Itinerary generated successfully
2025-10-19 14:07:33,170 - INFO - Initialized TravelPlanner instance
2025-10-19 14:07:33,170 - INFO - City set successfully
2025-10-19 14:07:33,170 - INFO - Interests set successfully
2025-10-19 14:07:33,171 - INFO - Days set successfully
2025-10-19 14:07:33,171 - INFO - Generating itinerary | city=Thailand | interests=['shopping', 'photography', 'nightlife', 'Food', 'temple'] | days=5
2025-10-19 14:07:35,779 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 14:07:37,206 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 14:07:38,662 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 14:07:39,881 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 14:07:42,081 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 14:07:42,082 - INFO - Itinerary generated successfully
2025-10-19 20:47:08,175 - INFO - Initialized TravelPlanner instance
2025-10-19 20:47:08,175 - INFO - City set successfully
2025-10-19 20:47:08,175 - INFO - Interests set successfully
2025-10-19 20:47:08,175 - INFO - Days set successfully
2025-10-19 20:47:08,176 - INFO - Generating itinerary | city=Delhi | interests=['food', 'history', 'Food'] | days=2
2025-10-19 20:47:09,549 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 20:47:11,394 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 20:47:11,395 - INFO - Itinerary generated successfully
2025-10-19 22:07:38,863 - INFO - Initialized TravelPlanner instance
2025-10-19 22:07:38,865 - INFO - City set successfully
2025-10-19 22:07:38,865 - INFO - Interests set successfully
2025-10-19 22:07:38,865 - INFO - Days set successfully
2025-10-19 22:07:38,865 - INFO - Generating itinerary | city=Delhi | interests=['food', 'history', 'food'] | days=2
2025-10-19 22:07:40,187 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 22:07:41,452 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 22:07:41,453 - INFO - Itinerary generated successfully
2025-10-19 22:40:54,086 - INFO - Initialized TravelPlanner instance
2025-10-19 22:40:54,086 - INFO - City set successfully
2025-10-19 22:40:54,086 - INFO - set_interests received type=list value=['food', 'history', 'Food']
2025-10-19 22:40:54,086 - INFO - Interests set successfully: ['food', 'history']
2025-10-19 22:40:54,086 - INFO - Days set successfully
2025-10-19 22:40:54,087 - INFO - Generating itinerary | city=Delhi | interests=['food', 'history'] | days=2
2025-10-19 22:40:54,087 - ERROR - Error generating itinerary for Day 1
Traceback (most recent call last):
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py", line 119, in _call_chain_for_day
    return generate_itineary(
TypeError: generate_itineary() got an unexpected keyword argument 'days'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py", line 135, in _call_chain_for_day
    raw = generate_itineary(self.city, self.interests)
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\chains\itinery_chain.py", line 53, in generate_itineary
    itnineary_prompt.format_messages(city=city, interests=', '.join(interests))
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\chat.py", line 1188, in format_messages
    message = message_template.format_messages(**kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\chat.py", line 560, in format_messages
    return [self.format(**kwargs)]
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\chat.py", line 593, in format
    text = self.prompt.format(**kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\prompt.py", line 186, in format
    return DEFAULT_FORMATTER_MAPPING[self.template_format](self.template, **kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 161, in format
    return self.vformat(format_string, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\utils\formatting.py", line 33, in vformat
    return super().vformat(format_string, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 165, in vformat
    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 205, in _vformat
    obj, arg_used = self.get_field(field_name, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 270, in get_field
    obj = self.get_value(first, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 227, in get_value
    return kwargs[key]
KeyError: 'day_index'
2025-10-19 22:40:54,108 - ERROR - Error while creating itinerary
Traceback (most recent call last):
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py", line 119, in _call_chain_for_day
    return generate_itineary(
TypeError: generate_itineary() got an unexpected keyword argument 'days'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py", line 135, in _call_chain_for_day
    raw = generate_itineary(self.city, self.interests)
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\chains\itinery_chain.py", line 53, in generate_itineary
    itnineary_prompt.format_messages(city=city, interests=', '.join(interests))
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\chat.py", line 1188, in format_messages
    message = message_template.format_messages(**kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\chat.py", line 560, in format_messages
    return [self.format(**kwargs)]
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\chat.py", line 593, in format
    text = self.prompt.format(**kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\prompts\prompt.py", line 186, in format
    return DEFAULT_FORMATTER_MAPPING[self.template_format](self.template, **kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 161, in format
    return self.vformat(format_string, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\site-packages\langchain_core\utils\formatting.py", line 33, in vformat
    return super().vformat(format_string, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 165, in vformat
    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 205, in _vformat
    obj, arg_used = self.get_field(field_name, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 270, in get_field
    obj = self.get_value(first, args, kwargs)
  File "C:\Users\aswin\anaconda3\envs\aitravel\lib\string.py", line 227, in get_value
    return kwargs[key]
KeyError: 'day_index'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py", line 164, in create_itinerary
    md = self._call_chain_for_day(d, focus)
  File "C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py", line 140, in _call_chain_for_day
    raise CustomException(f"Failed to generate day {day_idx}") from e
src.utils.custom_exception.CustomException: Failed to generate day 1 | Error: None | File: C:\Users\aswin\OneDrive\Documents\Data Science\Gen AI\AI Travel LLM\src\core\planner.py | Line: 135
2025-10-19 22:54:02,949 - INFO - Initialized TravelPlanner instance
2025-10-19 22:54:02,950 - INFO - City set successfully
2025-10-19 22:54:02,950 - INFO - set_interests received type=list value=['food', 'history', 'Food']
2025-10-19 22:54:02,950 - INFO - Interests set successfully: ['food', 'history']
2025-10-19 22:54:02,950 - INFO - Days set successfully
2025-10-19 22:54:02,950 - INFO - Generating itinerary | city=Delhi | interests=['food', 'history'] | days=2
2025-10-19 22:54:02,950 - INFO - Generating itinerary for Day 1
2025-10-19 22:54:04,874 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 22:54:04,885 - INFO - Generating itinerary for Day 2
2025-10-19 22:54:06,443 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-19 22:54:06,444 - INFO - Itinerary generated successfully
